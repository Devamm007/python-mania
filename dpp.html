<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>DPP â€” python-mania</title>
		<link rel="stylesheet" href="assets/index.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" xintegrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" xintegrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" xintegrity="sha384-dy1Bdxs0xJ/KxH3tXq/sI6w0xU7h1g1Sg+5zR6uLpP1z/Bw+G0xW3g3NfL3pQ" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
	</head>
	<body>
		<header class="site-header">
			<div class="container header-inner">
				<a class="brand" href="index.html">python-mania</a>
				<button id="nav-toggle" class="nav-toggle" aria-label="Toggle navigation">â˜°</button>
				<nav id="site-nav" class="nav" aria-label="Main navigation">
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="rulebook.html">Rulebook</a></li>
						<li><a href="faqs.html">FAQs</a></li>
						<li><a href="dpp.html">DPP</a></li>
						<li><a href="slides.html">Slides</a></li>
						<li><a href="cheatsheet.html">Cheatsheet</a></li>
						<li><a href="recordings.html">Recordings</a></li>

					</ul>
				</nav>
			</div>
		</header>

		<main class="container main-content">
			<section class="content">
				<h1 class="section-title">Daily Practice Problems (DPP)</h1>
				<p class="muted">To be updated after DPP1 deadline ends</p>
				
				<!-- Quick DPP navigation (re-uses slide-nav styles) -->
				<p class="muted">Select a DPP to view its 7 questions:</p>
				<ul class="slide-nav dpp-nav" aria-label="DPP quick navigation">
					<!-- The href is used by the JavaScript to identify the content block to show -->
					<li><a href="#dpp1" class="dpp-trigger" aria-label="View DPP1 Questions">DPP1</a></li>
					<li><a href="#dpp2" class="dpp-trigger" aria-label="View DPP2 Questions">DPP2</a></li>
				</ul>

				<!-- DPP 1 Content Container (Initially Active) -->
				<div id="dpp1-questions" class="dpp-questions-container">
					<h2 class="dpp-section-title">DPP 1: Basic Python Syntax and Data Types</h2>
					<ol class="dpp-questions-list">
						<li>
							<h3>Q1 â€“ Python List Mutation</h3>
							<p><strong>Problem:</strong> Consider the following Python code snippet. What will be the output of this code?</p>
							<pre><code class="python">x = [1, 2, 3]
y = x
y.append(4)
print(x)</code></pre>
							<p><strong>Input Format:</strong> No input is required.</p>
							<p><strong>Constraints:</strong> Basic Python list operations.</p>
							<p><strong>Output Format:</strong> Print the exact output of the program as shown on the console.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Python List Mutation</strong></summary>
								<p>The output will be:</p>
								<pre><code>[1, 2, 3, 4]</code></pre>
								<p><strong>Explanation:</strong> In Python, when you assign one list to another with <code>y = x</code>, you are creating an <strong>alias</strong>. Both variables refer to the <strong>same list object</strong> in memory. Since lists are mutable, calling <code>y.append(4)</code> modifies the single shared list, which is then reflected when printing <code>x</code>.</p>
							</details>
						</li>

						<li>
							<h3>Q2 â€“ Output Prediction: Number Series Pattern</h3>
							<p><strong>Problem:</strong> Find the next number in this series:</p>
							<p class="series">2, 5, 10, 17, _</p>
							<p>Complete the program to print the next term in the sequence.</p>
							<p><strong>Input Format:</strong> No input is required.</p>
							<p><strong>Constraints:</strong> Basic number series pattern recognition.</p>
							<p><strong>Output Format:</strong> Print the exact output of the program as shown on the console.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Number Series Pattern</strong></summary>
								<p>The next number is <strong>26</strong>.</p>
								<p><strong>Pattern Analysis:</strong> The difference between consecutive terms increases by 2 each time (consecutive odd numbers are added):</p>
								<ul>
									<li>$$5 - 2 = \mathbf{3}$$</li>
									<li>$$10 - 5 = \mathbf{5}$$</li>
									<li>$$17 - 10 = \mathbf{7}$$</li>
									<li>Next difference: $$\mathbf{9}$$</li>
									<li>Next Term: $$17 + 9 = \mathbf{26}$$</li>
								</ul>
								<p>Alternatively, the $n$-th term is given by the formula $\mathbf{n^2 + 1}$ (starting at $n=1$): $$5^2 + 1 = 26$$</p>
								<p><strong>Output:</strong></p>
								<pre><code>26</code></pre>
							</details>
						</li>

						<li>
							<h3>Q3 â€“ Output Prediction: List Repetition</h3>
							<p><strong>Problem:</strong> Predict the output of this Python code:</p>
							<pre><code class="python">result = [1, 2, 3] * 2 
print(result)</code></pre>
							<p><strong>Input Format:</strong> No input is required.</p>
							<p><strong>Constraints:</strong> Basic Python list operations.</p>
							<p><strong>Output Format:</strong> Print the exact output of the program as shown on the console.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: List Repetition</strong></summary>
								<p>The output will be:</p>
								<pre><code>[1, 2, 3, 1, 2, 3]</code></pre>
								<p><strong>Explanation:</strong> The list repetition operator (<code>*</code>) concatenates the list with itself the specified number of times (2 times in this case), creating a new, longer list.</p>
							</details>
						</li>

						<li>
							<h3>Q4 â€“ Problem: Prime Number Checker</h3>
							<p><strong>Problem:</strong> Write a program that reads a positive integer <code>n</code> and determines if it is a prime number.</p>
							<p><strong>Input Format:</strong> A single integer <code>n</code>.</p>
							<p><strong>Constraints:</strong> $$1 \leq n \leq 10^6$$</p>
							<p><strong>Output Format:</strong> Print "Prime" if the number is prime, otherwise print "Not prime".</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Prime Number Checker</strong></summary>
								<p>A number is prime if it is greater than 1 and is not divisible by any integer from 2 up to its square root.</p>
								<pre><code class="python">import math

n = int(input())

if n &lt;= 1:
	print("Not prime")
else:
	is_prime = True
	# We only need to check divisors up to the square root of n
	for i in range(2, int(math.sqrt(n)) + 1):
		if n % i == 0:
			is_prime = False
			break
			
	if is_prime:
		print("Prime")
	else:
		print("Not prime")</code></pre>
							</details>
						</li>

						<li>
							<h3>Q5 â€“ Problem: Count Uppercase and Lowercase Letters</h3>
							<p><strong>Problem:</strong> Write a program that reads a string and counts the number of uppercase and lowercase letters.</p>
							<p><strong>Input Format:</strong> A single string containing only alphabets (no spaces or punctuation).</p>
							<p><strong>Constraints:</strong> $$1 \leq \text{length of string} \leq 1000$$</p>
							<p><strong>Output Format:</strong> Print two integers separated by a space: First the count of uppercase letters, then the count of lowercase letters.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Count Uppercase and Lowercase Letters</strong></summary>
								<pre><code class="python">input_string = input()

uppercase_count = 0
lowercase_count = 0

for char in input_string:
	if char.isupper():
		uppercase_count += 1
	elif char.islower():
		lowercase_count += 1
# Note: Since the constraint says "only alphabets," we don't need to check isalpha()

print(f"{uppercase_count} {lowercase_count}") 
# Use f-string or concatenation for space-separated output

#ALTERNATIVE METHOD:

s = input()
upper = sum(1 for c in s if c.isupper())
lower = sum(1 for c in s if c.islower())
print(upper, lower)
</code></pre>
							
							</details>
						</li>

						<li>
							<h3>Q6 â€“ Problem: Scholarship Eligibility Checker (Boolean Logic)</h3>
							<p><strong>Problem:</strong> A student is <strong>eligible</strong> if: (Age $\geq$ 18) <strong>AND</strong> (Score $\geq$ 75) <strong>AND</strong> (Disqualified is <code>False</code>).</p>
							<p>You must print <code>True</code> if the student is eligible, or <code>False</code> otherwise.</p>
							<p><strong>Input Format:</strong> Three space-separated values: <code>age</code> (int), <code>score</code> (int), and <code>disqualified</code> (Boolean string: "True" or "False").</p>
							<p><strong>Constraints:</strong> $$0 \leq \text{age} \leq 120$$ $$0 \leq \text{score} \leq 100$$ $$\text{disqualified} \in \{\text{True, False}\}$$</p>
							<p><strong>Output Format:</strong> Print a single Boolean value â€” <code>True</code> or <code>False</code>.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Scholarship Eligibility Checker</strong></summary>
								<pre><code class="python">input_data = input().split()
age = int(input_data[0])
score = int(input_data[1])
# Convert the string 'True'/'False' from input into a Python boolean
# 'True' string becomes True boolean, 'False' string becomes False boolean
disqualified = input_data[2] == 'True' 

# The eligibility check uses the logical AND operator for all three conditions
is_eligible = (age &gt;= 18) and \
			(score &gt;= 75) and \
			(not disqualified) # not False is True, not True is False

print(is_eligible)</code></pre>
							</details>
						</li>

						<li>
							<h3>Q7 â€“ Problem: Student Performance Analysis (Function)</h3>
							<p><strong>Problem:</strong> Write a function <code>analyze_performance(marks: list) -> tuple</code> that calculates the **average** (rounded to 2 decimal places), **highest**, **lowest** mark, and determines the **Grade** based on the average.</p>
							<p><strong>Grading Scale:</strong> $$A \geq 90,\ B (75-89),\ C (60-74),\ D (40-59),\ F \leq 40$$</p>
							<p><strong>Input Format:</strong> Two lines: <code>n</code> (number of subjects), then <code>n</code> space-separated marks.</p>
							<p><strong>Constraints:</strong> $$1 \leq n \leq 100$$ $$0 \leq \text{marks}[i] \leq 100$$</p>
							<p><strong>Output Format:</strong> Print the tuple in the format: <code>(average, highest, lowest, grade)</code>.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Student Performance Analysis</strong></summary>
								<pre><code class="python">def analyze_performance(marks: list) -> tuple:
	# 1. Calculate Average Marks
	average = sum(marks) / len(marks)
	rounded_average = round(average, 2)
	
	# 2. Find Highest and Lowest Marks
	highest = max(marks)
	lowest = min(marks)
	
	# 3. Determine the Grade
	if rounded_average &gt;= 90:
		grade = 'A'
	elif rounded_average &gt;= 75:
		grade = 'B'
	elif rounded_average &gt;= 60:
		grade = 'C'
	elif rounded_average &gt;= 40:
		grade = 'D'
	else:
		grade = 'F'
		
	# 4. Return the tuple
	return (rounded_average, highest, lowest, grade)

# Main program to handle input/output
try:
	# Read n (not strictly needed for logic but part of format)
	n = int(input()) 
	# Read marks list
	marks = list(map(int, input().split()))
	
	# Call function and print result
	result = analyze_performance(marks)
	print(result)

except:
	pass # Simple error handling for demonstration 
</code></pre>
							</details>
						</li>
					</ol>
				</div>
				<!-- End DPP 1 Content -->

				<!-- DPP 2 Content Container (Hidden by default) -->
				<div id="dpp2-questions" class="dpp-questions-container">
					<h2 class="dpp-section-title">DPP 2: Control Flow and Functions</h2>
					<ol class="dpp-questions-list">
						<li>
							<h3>Q1 â€“ Integer come in all sizes</h3>
							<p><strong>Problem:</strong> Read four numbers a, b, c, d and print the result of $$a^b+c^d$$</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Integers</strong></summary>
								<pre><code class="python">a = int(input())
b = int(input())
c = int(input())
d = int(input())

print(f"{a**b + c**d}")</code></pre>
							</details>
						</li>
						<li>
							<h3>Q2 â€“ Arithmetic Operators</h3>
							<p><strong>Problem:</strong> The provided code stub reads two integers from STDIN, a and b. Add code to print three lines where:</p>
							<p>The first line contains the sum of the two numbers (a + b).</p>
							<p>The second line contains the difference of the two numbers (first - second).</p>
							<p>The third line contains the product of the two numbers.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Arithmetic Operators</strong></summary>
								<pre><code class="python">if __name__ == '__main__':
    a = int(input())
    b = int(input())
    print(f"{a+b}\n{a-b}\n{a*b}")</code></pre>
							</details>
						</li>
						<li>
							<h3>Q3 â€“ Python If-Else</h3>
							<p><strong>Problem:</strong> The provided code stub reads two integers from STDIN, a and b. Add code to print three lines where:</p>
							<p>If n is odd, print "Weird"</p>
							<p>If n is even and in the inclusive range of 2 to 5, print "Not weird"</p>
							<p>If n is even and in the inclusive range of 6 to 20, print "Weird"</p>
							<p>If n is even and greater than 20, print "Not weird"</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: If-Else</strong></summary>
								<pre><code class="python">n = int(input().strip())
if n%2 != 0:
	print("Weird")
if n%2 == 0 and (2<=n<=5 or n>20):
	print("Not Weird")
if n%2 == 0 and 6<=n<=20:
	print("Weird")</code></pre>
							</details>
						</li>
						<li>
							<h3>Q4 â€“ Division</h3>
							<p><strong>Problem:</strong>The provided code stub reads two integers, a and b, from STDIN. 
							<p>Add logic to print two lines. The first line should contain the result of integer division, a // b.</p>
							<p>The second line should contain the result of float division, a / b.</p>
							<p>No rounding or formatting is necessary.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Division</strong></summary>
								<pre><code class="python">a = int(input())
b = int(input())
print(f"{a//b}\n{a/b}")</code></pre>
							</details>
							
						</li>
						<li>
							<h3>Q5 â€“ Insertion Sort - Part 1</h3>
							<p><strong>Problem:</strong> Given a sorted list with an unsorted number <code>e</code> in the rightmost cell, write code to insert <code>e</code> into the array so that it remains sorted. This exercise will demonstrate the brute-force insertion method.</p>
							<p><strong>Input Format:</strong> Two lines: <code>n</code> (the size of the array) and <code>arr</code> (the space-separated list of numbers).</p>
							<p><strong>Output Format:</strong> Print the array at each step as the unsorted element is shifted to the left, and finally print the array with the element inserted in its correct position.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Insertion Sort - Part 1</strong></summary>
								<p>The solution involves storing the last value, shifting all larger elements to the right one by one, and then inserting the stored value into its correct spot.</p>
								<pre><code class="python">#!/bin/python3
import math
import os
import random
import re
import sys

def insertionSort1(n, arr):
    last_value = arr[-1]
    for i in range(n-2, -1, -1):
        if arr[i] > last_value:
            arr[i+1] = arr[i]
            # l = ""
            # for i in range(len(arr)):
            #   l += str(f"{arr[i]} ")
            # print(l)
            print(*arr)
        else:
            arr[i+1] = last_value
            print(*arr)
            break
    
if __name__ == '__main__':
    n = int(input().strip()) # "5  " -> "5"
    arr = list(map(int, input().rstrip().split()))

    insertionSort1(n, arr)</code></pre>
							</details>
						</li>

						<li>
							<h3>Q6 â€“ Insertion Sort - Part 2</h3>
							<p><strong>Problem:</strong> In the provided <code>insertion_sort</code> code, there is a logic error. Find and fix it so the code fully sorts the given array.</p>
							<p><strong>Input Format:</strong> Two lines: <code>s</code> (the size of the array) and <code>arr</code> (the space-separated list of numbers).</p>
							<p><strong>Constraints:</strong></p>
							<ul>
								<li>$$1 \le s \le 1000$$</li>
								<li>$$-1500 \le arr[i] \le 1500$$</li>
							</ul>
							<p><strong>Output Format:</strong> Print the array only once, when it is fully sorted.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Insertion Sort - Part 2</strong></summary>
								<p><strong>Explanation:</strong> The error is in the <code>while</code> loop condition. The original code <code>while (j > 0)</code> stops checking when <code>j</code> reaches 0, preventing an element from being inserted at the very beginning (index 0) of the array. The fix is to change the condition to <code>while (j >= 0)</code>.</p>
								<pre><code class="python"># Find error

def insertion_sort(l):
    for i in range(1, len(l)):
        j = i-1
        key = l[i]
        while (j >= 0) and (l[j] > key): # error j > 0 changes to j >= 0
           l[j+1] = l[j]
           j -= 1
        l[j+1] = key

m = int(input().strip())
ar = [int(i) for i in input().strip().split()]
insertion_sort(ar)
print(" ".join(map(str,ar)))</code></pre>
							</details>
						</li>

						<li>
							<h3>Q7 â€“ Prime Sum</h3>
							<p><strong>Problem:</strong> Given a number <code>N</code> and a positive integer <code>K</code>, determine if <code>N</code> can be represented as a sum of <code>K</code> prime numbers (not necessarily distinct).</p>
							<p><strong>Input Format:</strong> The first line contains <code>T</code> (number of test cases). Each subsequent line contains two space-separated positive integers, <code>N</code> and <code>K</code>.</p>
							<p><strong>Constraints:</strong></p>
							<ul>
								<li>$$1 \le T \le 5000$$</li>
								<li>$$1 \le N \le 10^{12}$$</li>
								<li>$$1 \le K \le 10^{12}$$</li>
							</ul>
							<p><strong>Output Format:</strong> For each test case, print "Yes" or "No".</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Prime Sum</strong></summary>
								<p>The solution relies on properties of prime numbers and Goldbach's conjecture. The code in the PDF contains several logical errors and typos. Below is a corrected version based on the problem's logic.</p>
								<pre><code class="python">#!/bin/python3
import math
import os
import random
import re
import sys

def is_prime(n):
  if n <= 1:
    return False
  if n == 2 or n == 3:
    return True
  if n%2 == 0 or n%3 == 0:
    return False
  if n%5 == 0 and n != 5:
    return False

  for i in range(2, int(n**0.5)): # more optimised would be to check 6k +/- 1
  # for i in range(5, int(n**0.5)+1, 6): something like this
    if n % i == 0:
      return False
  return True

def solve(n, k):
  if k == 1:
    if is_prime(n):
      return "Yes"
    else:
      return "No"
  if k == 2:
    if n%2 == 0:
      return "Yes"
  if n % 2 == 0:
      return "Yes" if n >= 2 * k else "No" # strong goldbach conjecture
  else:
      return "Yes" if n >= 2 * k + 1 else "No"
if __name__ == '__main__':
    t = int(input().strip())
    for t_itr in range(t):
        first_multiple_input = input().rstrip().split()
        n = int(first_multiple_input[0])
        k = int(first_multiple_input[1])
        result = solve(n, k)
        print(result, "\n")

# 5
# 4759123141 1
# 4759123143 1
# 4759123145 1
# 4759123147 1
# 4759123149 1</code></pre>
							</details>
						</li>

						<li>
							<h3>Q8 â€“ Project Euler #146 Inspired Problem</h3>
							<p><strong>Problem:</strong> Find the sum of all integers <code>n</code> strictly below <code>L</code> such that the six numbers $n^{2}+a_{1}$, $n^{2}+a_{2}$, $n^{2}+a_{3}$, $n^{2}+a_{4}$, $n^{2}+a_{5}$, and $n^{2}+a_{6}$ are **consecutive primes**.</p>
							<p><strong>Input Format:</strong> The first line contains <code>T</code> (number of test cases). Each test case consists of two lines: <code>L</code> (the limit) and a line of six space-separated integers $a_{1}...a_{6}$.</p>
							<p><strong>Constraints:</strong></p>
							<ul>
								<li>$$1 \le T \le 3$$</li>
								<li>$$1 \le L \le 10^{7}$$</li>
								<li>$$1 \le a_{1} < a_{2} < ... < a_{6} \le 40$$</li>
							</ul>
							<p><strong>Output Format:</strong> For each test case, print the calculated sum.</p>
							<details>
								<summary><strong>ðŸ’¡ Solution: Project Euler #146 Inspired Problem</strong></summary>
								<p>The PDF provides two solutions: a simple, unoptimized version and a complex, optimized version. The unoptimized code is too slow and logically incomplete (it doesn't check for consecutiveness). The optimized code is required to pass.</p>
								<p>This optimized solution uses a fast **Miller-Rabin** probabilistic primality test, **caching**, a **sieve** to eliminate non-candidate <code>n</code> values, and a **consecutiveness check** to ensure no other primes exist in the gaps. The code below is reconstructed and fixed from the fragments in the PDF.</p>
								
								<pre><code class="python"># UNOPTIMISED LOGICALLY CORRECT CODE
def is_prime(n: int) -> bool():
  if n <= 1:
    return False
  if n == 2 or n == 3:
    return True
  if n%2 == 0 or n%3 == 0:
    return False
  if n%5 == 0 and n != 5:
    return False

  for i in range(7, int(n**0.5)):# more optimised would be to check 6k +/- 1
  # for i in range(5, int(n**0.5)+1, 6): something like this

    if n % i == 0:
      return False
  return True

t = int(input())

for _ in range(t):
  L = int(input())
  # Method 1
  # a1, a2, a3, a4, a5, a6 = map(int, input().split())
  # Method 2
  # a1, a2, a3, a4, a5, a6 = [int(i) for i in input().split()]
  # a = [a1, a2, a3, a4, a5, a6]
  # Method 3
  a = [int(i) for i in input().split()]
  sum = 0

  for j in range(10, L):
    primes = [ j**2+a[i] for i in range(len(a)) ]
    primes_truth = []
    for i in primes:
      primes_truth.append(is_prime(i))
    if all(primes_truth):
      # you have to use all() function
      # to return True when all values of list is True
      # not debugged in session/recording
      sum += j
    
  print(sum)

# input
# 9943395
# 7 9 15 25 37 39
# output
# 20271808
								</code></pre>
								<p>Optimised Code: test cases #1, #2, #4, #5, #6, #8, #10 raising timeout error on Hackerrank platform, so ignore them
</p>
								<pre><code class="python"># OPTIMISED CODE (FOR ~70% TEST CASES)
#!/bin/python3

import math
import os
import random
import re
import sys

# --- Miller-Rabin Primality Test for 64-bit integers ---
# This is a fast probabilistic test, deterministic for n < 3,317,044,064,679,887
# Our numbers (n^2 + a_i) can be up to (10^7)^2 + 40, which is ~10^14.

def power(a, d, n):
    """Calculates (a^d) % n"""
    res = 1
    a = a % n
    while d > 0:
        if d % 2 == 1:
            res = (res * a) % n
        d >>= 1
        a = (a * a) % n
    return res

def miller_rabin(n):
    """Miller-Rabin primality test."""
    if n <= 1:
        return False
    if n <= 3:
        return True
    if n % 2 == 0:
        return False

    # Deterministic bases for n < 3,317,044,064,679,887
    bases = [2, 3, 5, 7, 11, 13, 17]

    # Write n-1 as 2^s * d
    d = n - 1
    s = 0
    while d % 2 == 0:
        d //= 2
        s += 1

    for a_base in bases:
        if a_base >= n:
            break
        
        x = power(a_base, d, n)
        if x == 1 or x == n - 1:
            continue

        for _ in range(s - 1):
            x = (x * x) % n
            if x == n - 1:
                break
        else:
            # This 'else' runs if the 'for' loop completes without 'break'
            return False
    return True

# --- Caching Wrapper for Primality Test ---
# We cache results because the consecutiveness check
# might re-test the same primes.
g_prime_cache = {}

def is_prime_cached(n):
    """Cached wrapper for Miller-Rabin test."""
    if n in g_prime_cache:
        return g_prime_cache[n]
    
    # Simple checks for small numbers
    if n < 50:
        res = n in {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47}
        g_prime_cache[n] = res
        return res
        
    res = miller_rabin(n)
    g_prime_cache[n] = res
    return res

def is_prime_uncached(n):
    """Non-caching primality test. Used for gap-checking."""
    if n < 50:
        return n in {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47}
    return miller_rabin(n)


# --- Consecutiveness Check ---

def check_consecutive(primes):
    """
    Checks if the list of primes [p1, ..., p6] are consecutive.
    It does this by checking for any other primes in the open intervals
    (p_i, p_{i+1}).
    Uses the UNCACHED prime test to avoid memory errors.
    """
    for i in range(len(primes) - 1):
        # We only need to check numbers in the gap.
        # The gap is small (a[i+1] - a[i]), max 39.
        for num in range(primes[i] + 1, primes[i+1]):
            # Use the uncached version to prevent memory overflow
            if is_prime_uncached(num):
                # Found an intermediate prime!
                return False
    return True

#
# Complete the 'solve' function below.
#
# The function is expected to return a STRING.
# The function accepts following parameters:
#  1. INTEGER L
#  2. STRING_ARRAY a
#

def solve(L, a_str):
    # Clear cache for each new test case
    g_prime_cache.clear()

    # Convert string array to integer array
    a = [int(x) for x in a_str]

    # is_possible[n] will be True if n is a potential candidate
    # We need L+1 size to check is_possible[L], though problem says "below L"
    # Let's use size L, checking n from 1 to L-1.
    # The sample for L=11 gives 10, so n=10 is included.
    # The sample for L=10 gives 0. This implies n is strictly < L.
    # Let's follow "below L", so n ranges from 1 to L-1.
    if L == 0:
        return "0"
        
    is_possible = [True] * L
    is_possible[0] = False  # n=0 is not a valid solution (n^2+a_i might not be prime)

    # We sieve n using small primes up to a_6's max value (40)
    small_primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37]

    for p in small_primes:
        # Optimization: No need to sieve if p is larger than the largest offset
        if p > a[-1]:
             continue
             
        # Find all n (mod p) that are "forbidden"
        forbidden_n_mod_p = set()
        
        if p == 2:
            # n^2 (mod 2) is 0 if n is even, 1 if n is odd.
            has_even_ai = any(ai % 2 == 0 for ai in a)
            has_odd_ai = any(ai % 2 == 1 for ai in a)
            
            # If n is even (n^2=0), n^2+ai = ai (mod 2). 
            # If any ai is even, n^2+ai is even. Forbidden.
            if has_even_ai: forbidden_n_mod_p.add(0)
            
            # If n is odd (n^2=1), n^2+ai = 1+ai (mod 2).
            # If any ai is odd, 1+ai is even. Forbidden.
            if has_odd_ai: forbidden_n_mod_p.add(1)
        else:
            for ai in a:
                # We are looking for n^2 + ai = 0 (mod p)
                # n^2 = -ai (mod p)
                target_residue = (-ai) % p
                # Find square roots of target_residue mod p
                for x in range(p):
                    if (x * x) % p == target_residue:
                        forbidden_n_mod_p.add(x)

        # TLE FIX: Pre-calculate n values that are exceptions (n*n + ai == p)
        exceptions_for_p = set()
        for ai in a:
            n_squared = p - ai
            if n_squared > 0:
                n = int(n_squared**0.5)
                # Check for perfect square
                if n * n == n_squared:
                    exceptions_for_p.add(n)


        # Now, sieve out all n corresponding to these forbidden residues
        for x in forbidden_n_mod_p:
            start_n = x
            if start_n == 0: # Start from p, not 0
                start_n = p

            if start_n == 0: continue # Should not happen, but as a guard

            for n in range(start_n, L, p):
                # TLE FIX: Check against the pre-calculated exception set.
                # This is much faster than the inner loop.
                if is_possible[n]:
                    if n not in exceptions_for_p:
                        is_possible[n] = False

    # --- Final Check ---
    # Iterate through the remaining candidates and do the full primality
    # and consecutiveness tests.
    
    total_sum = 0
    for n in range(1, L): # n is "below L"
        if is_possible[n]:
            # Generate the 6 prime candidates
            primes = [n * n + ai for ai in a]
            
            # 1. Check if all 6 are prime
            all_are_prime = True
            for p_val in primes:
                # Use the CACHED version here, as n^2+a_i might be
                # a gap-prime for another n
                if not is_prime_cached(p_val):
                    all_are_prime = False
                    break
            
            if all_are_prime:
                # 2. Check if they are consecutive
                if check_consecutive(primes):
                    total_sum += n
    
    return str(total_sum)


if __name__ == '__main__':
    # Check if 'OUTPUT_PATH' is defined, otherwise write to stdout
    try:
        fptr = open(os.environ['OUTPUT_PATH'], 'w')
    except KeyError:
        fptr = sys.stdout

    t = int(input().strip())

    for t_itr in range(t):
        L = int(input().strip())
        a = input().rstrip().split()
        result = solve(L, a)
        fptr.write(result + '\n')

    # Don't close stdout
    if fptr != sys.stdout:
        fptr.close()
								</code></pre>
							</details>
    				    </li>
					</ol>
				</div>
				<!-- End DPP 2 Content -->

				<p class="muted">Use these as starting points. Add inputs, consider edge cases, and test your solutions thoroughly.</p>
			</section>
		</main>

		<footer class="site-footer">
            <div class="container">
                <ul>
					<li>Contact:</li>
					<ul>
                    	<li>SAANJHI VARSHNEY (24f2003813 DS)</li>
						<li>DIVY PRAKASH (24f3004288 DS)</li>
						<li>KARTIK CHILLKOTI (24f2004962 DS)</li>
						<li>DEVAM SHAH (24f2000828 DS) </li>
					</ul>
                    <li><a href="https://github.com/Devamm007/python-mania" target="_blank" rel="noopener">GitHub - Devamm007<i class="fab fa-github"></i></a></li>
                </ul>
                <small class="muted">DPP â€¢ python-mania â€¢ Â© 2025</small>
            </div>
        </footer>

		<script src="assets/index.js"></script>
	</body>
</html>
